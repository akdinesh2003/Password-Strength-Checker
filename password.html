<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Password Strength Checker</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        @keyframes pulse {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.05); }
        }
        @keyframes shake {
            0%, 100% { transform: translateX(0); }
            25% { transform: translateX(-5px); }
            75% { transform: translateX(5px); }
        }
        @keyframes bounce {
            0%, 100% { transform: translateY(0); }
            50% { transform: translateY(-10px); }
        }
        .pulse { animation: pulse 2s infinite; }
        .shake { animation: shake 0.5s ease-in-out; }
        .bounce { animation: bounce 0.6s ease-in-out; }
        .gradient-bg {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
        }
        .strength-bar {
            transition: all 0.3s ease;
            border-radius: 10px;
        }
    </style>
</head>
<body class="gradient-bg min-h-screen flex items-center justify-center p-4">
    <div class="bg-white rounded-3xl shadow-2xl p-8 w-full max-w-md transform hover:scale-105 transition-transform duration-300">
        <div class="text-center mb-8">
            <h1 class="text-3xl font-bold text-gray-800 mb-2">üîê Password Strength Checker</h1>
            <p class="text-gray-600">Test your password's security level!</p>
        </div>

        <div class="space-y-6">
            <div class="relative">
                <input 
                    type="password" 
                    id="passwordInput"
                    placeholder="Enter your password..."
                    class="w-full px-4 py-3 border-2 border-gray-300 rounded-xl focus:border-purple-500 focus:outline-none transition-colors duration-300 text-lg"
                >
                <button 
                    id="togglePassword"
                    class="absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-500 hover:text-gray-700 transition-colors"
                >
                    üëÅÔ∏è
                </button>
            </div>

            <!-- Strength Bar -->
            <div class="space-y-2">
                <div class="flex justify-between items-center">
                    <span class="text-sm font-medium text-gray-700">Strength Level</span>
                    <span id="strengthText" class="text-sm font-bold">Enter password</span>
                </div>
                <div class="w-full bg-gray-200 rounded-full h-3">
                    <div id="strengthBar" class="strength-bar h-3 rounded-full transition-all duration-500" style="width: 0%"></div>
                </div>
            </div>

            <!-- Criteria Checklist -->
            <div class="space-y-3">
                <h3 class="font-semibold text-gray-800 text-center">Security Criteria</h3>
                <div class="grid grid-cols-1 gap-2">
                    <div id="lengthCheck" class="flex items-center space-x-2 p-2 rounded-lg transition-all duration-300">
                        <span class="text-xl">‚ùå</span>
                        <span class="text-sm">At least 8 characters</span>
                    </div>
                    <div id="uppercaseCheck" class="flex items-center space-x-2 p-2 rounded-lg transition-all duration-300">
                        <span class="text-xl">‚ùå</span>
                        <span class="text-sm">Contains uppercase letter</span>
                    </div>
                    <div id="lowercaseCheck" class="flex items-center space-x-2 p-2 rounded-lg transition-all duration-300">
                        <span class="text-xl">‚ùå</span>
                        <span class="text-sm">Contains lowercase letter</span>
                    </div>
                    <div id="numberCheck" class="flex items-center space-x-2 p-2 rounded-lg transition-all duration-300">
                        <span class="text-xl">‚ùå</span>
                        <span class="text-sm">Contains number</span>
                    </div>
                    <div id="specialCheck" class="flex items-center space-x-2 p-2 rounded-lg transition-all duration-300">
                        <span class="text-xl">‚ùå</span>
                        <span class="text-sm">Contains special character</span>
                    </div>
                </div>
            </div>

            <!-- Score Display -->
            <div class="text-center p-4 rounded-xl bg-gray-50">
                <div class="text-2xl font-bold text-gray-800" id="scoreDisplay">0/100</div>
                <div class="text-sm text-gray-600">Security Score</div>
            </div>

            <!-- Fun Messages -->
            <div id="messageBox" class="text-center p-3 rounded-xl transition-all duration-300 opacity-0">
                <div id="messageText" class="font-medium"></div>
            </div>

            <!-- Password Generator -->
            <div class="border-t pt-6 space-y-4">
                <h3 class="font-semibold text-gray-800 text-center">üé≤ Password Generator</h3>
                <div class="grid grid-cols-2 gap-2 text-sm">
                    <label class="flex items-center space-x-2">
                        <input type="checkbox" id="genUppercase" checked class="rounded">
                        <span>Uppercase (A-Z)</span>
                    </label>
                    <label class="flex items-center space-x-2">
                        <input type="checkbox" id="genLowercase" checked class="rounded">
                        <span>Lowercase (a-z)</span>
                    </label>
                    <label class="flex items-center space-x-2">
                        <input type="checkbox" id="genNumbers" checked class="rounded">
                        <span>Numbers (0-9)</span>
                    </label>
                    <label class="flex items-center space-x-2">
                        <input type="checkbox" id="genSpecial" checked class="rounded">
                        <span>Symbols (!@#$)</span>
                    </label>
                </div>
                <div class="flex items-center space-x-2">
                    <label class="text-sm font-medium">Length:</label>
                    <input type="range" id="genLength" min="8" max="32" value="12" class="flex-1">
                    <span id="lengthDisplay" class="text-sm font-bold w-8">12</span>
                </div>
                <button id="generateBtn" class="w-full bg-gradient-to-r from-purple-500 to-pink-500 text-white py-3 rounded-xl font-semibold hover:from-purple-600 hover:to-pink-600 transition-all duration-300 transform hover:scale-105">
                    Generate Secure Password üöÄ
                </button>
            </div>

            <!-- Password History -->
            <div class="border-t pt-6 space-y-4">
                <div class="flex justify-between items-center">
                    <h3 class="font-semibold text-gray-800">üìö Password History</h3>
                    <button id="clearHistory" class="text-xs text-red-500 hover:text-red-700 transition-colors">Clear All</button>
                </div>
                <div id="passwordHistory" class="space-y-2 max-h-32 overflow-y-auto">
                    <p class="text-sm text-gray-500 text-center py-4">No passwords tested yet</p>
                </div>
            </div>

            <!-- Real-time Tips -->
            <div class="border-t pt-6 space-y-4">
                <h3 class="font-semibold text-gray-800 text-center">üí° Smart Tips</h3>
                <div id="tipsContainer" class="bg-blue-50 p-4 rounded-xl">
                    <div id="currentTip" class="text-sm text-blue-700 text-center">
                        Start typing to get personalized security tips!
                    </div>
                </div>
                <div class="flex justify-center space-x-2">
                    <div class="w-2 h-2 bg-blue-300 rounded-full transition-all duration-300" id="tip1"></div>
                    <div class="w-2 h-2 bg-blue-300 rounded-full transition-all duration-300" id="tip2"></div>
                    <div class="w-2 h-2 bg-blue-300 rounded-full transition-all duration-300" id="tip3"></div>
                </div>
            </div>
        </div>
    </div>

    <script>
        const passwordInput = document.getElementById('passwordInput');
        const togglePassword = document.getElementById('togglePassword');
        const strengthBar = document.getElementById('strengthBar');
        const strengthText = document.getElementById('strengthText');
        const scoreDisplay = document.getElementById('scoreDisplay');
        const messageBox = document.getElementById('messageBox');
        const messageText = document.getElementById('messageText');

        const checks = {
            length: document.getElementById('lengthCheck'),
            uppercase: document.getElementById('uppercaseCheck'),
            lowercase: document.getElementById('lowercaseCheck'),
            number: document.getElementById('numberCheck'),
            special: document.getElementById('specialCheck')
        };

        const messages = {
            0: { text: "ü§î Start typing to see the magic!", color: "bg-gray-100 text-gray-600" },
            20: { text: "üò¨ This password needs serious help!", color: "bg-red-100 text-red-600" },
            40: { text: "üòê Getting warmer, but still weak!", color: "bg-orange-100 text-orange-600" },
            60: { text: "üôÇ Not bad, but could be stronger!", color: "bg-yellow-100 text-yellow-600" },
            80: { text: "üòä Great job! Very secure password!", color: "bg-green-100 text-green-600" },
            100: { text: "üéâ AMAZING! Fort Knox level security!", color: "bg-emerald-100 text-emerald-600" }
        };

        // New feature elements
        const generateBtn = document.getElementById('generateBtn');
        const genLength = document.getElementById('genLength');
        const lengthDisplay = document.getElementById('lengthDisplay');
        const passwordHistory = document.getElementById('passwordHistory');
        const clearHistory = document.getElementById('clearHistory');
        const currentTip = document.getElementById('currentTip');
        
        let historyCount = 0;
        let currentTipIndex = 0;
        
        const securityTips = [
            "üí° Longer passwords are exponentially harder to crack!",
            "üîí Mix uppercase, lowercase, numbers, and symbols for maximum security.",
            "üö´ Avoid using personal information like birthdays or names.",
            "üîÑ Use different passwords for different accounts.",
            "üì± Consider using a password manager for convenience.",
            "‚è∞ Change passwords regularly, especially for important accounts.",
            "üéØ Passphrases with random words can be both secure and memorable.",
            "üåê Enable two-factor authentication whenever possible."
        ];

        togglePassword.addEventListener('click', () => {
            const type = passwordInput.getAttribute('type') === 'password' ? 'text' : 'password';
            passwordInput.setAttribute('type', type);
            togglePassword.textContent = type === 'password' ? 'üëÅÔ∏è' : 'üôà';
        });

        passwordInput.addEventListener('input', checkPasswordStrength);
        
        // Password Generator Event Listeners
        generateBtn.addEventListener('click', generatePassword);
        genLength.addEventListener('input', () => {
            lengthDisplay.textContent = genLength.value;
        });
        clearHistory.addEventListener('click', () => {
            passwordHistory.innerHTML = '<p class="text-sm text-gray-500 text-center py-4">No passwords tested yet</p>';
            historyCount = 0;
        });

        function generatePassword() {
            const length = parseInt(genLength.value);
            const useUppercase = document.getElementById('genUppercase').checked;
            const useLowercase = document.getElementById('genLowercase').checked;
            const useNumbers = document.getElementById('genNumbers').checked;
            const useSpecial = document.getElementById('genSpecial').checked;
            
            let charset = '';
            if (useUppercase) charset += 'ABCDEFGHIJKLMNOPQRSTUVWXYZ';
            if (useLowercase) charset += 'abcdefghijklmnopqrstuvwxyz';
            if (useNumbers) charset += '0123456789';
            if (useSpecial) charset += '!@#$%^&*()_+-=[]{}|;:,.<>?';
            
            if (charset === '') {
                alert('Please select at least one character type!');
                return;
            }
            
            let password = '';
            for (let i = 0; i < length; i++) {
                password += charset.charAt(Math.floor(Math.random() * charset.length));
            }
            
            passwordInput.value = password;
            passwordInput.type = 'text';
            togglePassword.textContent = 'üôà';
            
            // Add sparkle effect to generate button
            generateBtn.classList.add('pulse');
            setTimeout(() => generateBtn.classList.remove('pulse'), 1000);
            
            checkPasswordStrength();
        }

        function addToHistory(password, score, strength) {
            if (historyCount >= 5) {
                const firstItem = passwordHistory.querySelector('.history-item');
                if (firstItem) firstItem.remove();
            } else {
                // Remove "no passwords" message
                const noPasswordsMsg = passwordHistory.querySelector('p');
                if (noPasswordsMsg) noPasswordsMsg.remove();
                historyCount++;
            }
            
            const historyItem = document.createElement('div');
            historyItem.className = 'history-item flex justify-between items-center p-2 bg-gray-50 rounded-lg text-sm';
            historyItem.innerHTML = `
                <span class="font-mono text-xs truncate flex-1">${password.substring(0, 12)}${password.length > 12 ? '...' : ''}</span>
                <span class="text-xs font-bold ${getScoreColor(score)}">${score}/100</span>
            `;
            passwordHistory.appendChild(historyItem);
        }

        function getScoreColor(score) {
            if (score < 40) return 'text-red-500';
            if (score < 60) return 'text-orange-500';
            if (score < 80) return 'text-yellow-500';
            return 'text-green-500';
        }

        function showPersonalizedTip(password, score) {
            let tip = securityTips[0]; // default tip
            
            if (password.length === 0) {
                tip = "Start typing to get personalized security tips!";
            } else if (password.length < 8) {
                tip = "üî¢ Try making your password at least 8 characters long!";
            } else if (!/[A-Z]/.test(password)) {
                tip = "üî† Add some uppercase letters to boost security!";
            } else if (!/[0-9]/.test(password)) {
                tip = "üî¢ Including numbers makes passwords much stronger!";
            } else if (!/[!@#$%^&*()_+\-=\[\]{};':"\\|,.<>\/?]/.test(password)) {
                tip = "üéØ Special characters like !@#$ add extra protection!";
            } else if (score === 100) {
                tip = "üèÜ Perfect! This password is incredibly secure!";
            } else {
                tip = securityTips[currentTipIndex % securityTips.length];
                currentTipIndex++;
            }
            
            currentTip.textContent = tip;
            
            // Update tip indicators
            const indicators = ['tip1', 'tip2', 'tip3'];
            indicators.forEach((id, index) => {
                const indicator = document.getElementById(id);
                if (index === currentTipIndex % 3) {
                    indicator.className = 'w-2 h-2 bg-blue-500 rounded-full transition-all duration-300';
                } else {
                    indicator.className = 'w-2 h-2 bg-blue-300 rounded-full transition-all duration-300';
                }
            });
        }

        function checkPasswordStrength() {
            const password = passwordInput.value;
            let score = 0;
            let passedChecks = 0;

            // Reset all checks
            Object.values(checks).forEach(check => {
                check.classList.remove('bg-green-100', 'bounce');
                check.querySelector('span').textContent = '‚ùå';
            });

            if (password.length === 0) {
                updateDisplay(0, 'Enter password', 'bg-gray-300');
                showMessage(0);
                return;
            }

            // Length check (8+ characters)
            if (password.length >= 8) {
                updateCheck('length', true);
                score += 20;
                passedChecks++;
            }

            // Uppercase check
            if (/[A-Z]/.test(password)) {
                updateCheck('uppercase', true);
                score += 20;
                passedChecks++;
            }

            // Lowercase check
            if (/[a-z]/.test(password)) {
                updateCheck('lowercase', true);
                score += 20;
                passedChecks++;
            }

            // Number check
            if (/\d/.test(password)) {
                updateCheck('number', true);
                score += 20;
                passedChecks++;
            }

            // Special character check
            if (/[!@#$%^&*()_+\-=\[\]{};':"\\|,.<>\/?]/.test(password)) {
                updateCheck('special', true);
                score += 20;
                passedChecks++;
            }

            // Determine strength level and color
            let strengthLevel, barColor;
            if (score < 40) {
                strengthLevel = 'Very Weak';
                barColor = 'bg-red-500';
                passwordInput.classList.add('shake');
                setTimeout(() => passwordInput.classList.remove('shake'), 500);
            } else if (score < 60) {
                strengthLevel = 'Weak';
                barColor = 'bg-orange-500';
            } else if (score < 80) {
                strengthLevel = 'Good';
                barColor = 'bg-yellow-500';
            } else if (score < 100) {
                strengthLevel = 'Strong';
                barColor = 'bg-green-500';
            } else {
                strengthLevel = 'Very Strong';
                barColor = 'bg-emerald-500';
                strengthBar.classList.add('pulse');
                setTimeout(() => strengthBar.classList.remove('pulse'), 2000);
            }

            updateDisplay(score, strengthLevel, barColor);
            showMessage(score);
            showPersonalizedTip(password, score);
            
            // Add to history if password is complete (has some strength)
            if (password.length > 0 && score >= 20) {
                addToHistory(password, score, strengthLevel);
            }
        }

        function updateCheck(checkType, passed) {
            const checkElement = checks[checkType];
            if (passed) {
                checkElement.classList.add('bg-green-100', 'bounce');
                checkElement.querySelector('span').textContent = '‚úÖ';
                setTimeout(() => checkElement.classList.remove('bounce'), 600);
            }
        }

        function updateDisplay(score, strengthLevel, barColor) {
            strengthBar.style.width = score + '%';
            strengthBar.className = `strength-bar h-3 rounded-full transition-all duration-500 ${barColor}`;
            strengthText.textContent = strengthLevel;
            scoreDisplay.textContent = `${score}/100`;
        }

        function showMessage(score) {
            const messageKey = Object.keys(messages).reverse().find(key => score >= key);
            const message = messages[messageKey];
            
            messageText.textContent = message.text;
            messageBox.className = `text-center p-3 rounded-xl transition-all duration-300 ${message.color}`;
            messageBox.style.opacity = '1';
        }

        // Initialize
        showMessage(0);
        showPersonalizedTip('', 0);
    </script>
<script>(function(){function c(){var b=a.contentDocument||a.contentWindow.document;if(b){var d=b.createElement('script');d.innerHTML="window.__CF$cv$params={r:'97e92b6310ba4093',t:'MTc1Nzc4MjQ5OC4wMDAwMDA='};var a=document.createElement('script');a.nonce='';a.src='/cdn-cgi/challenge-platform/scripts/jsd/main.js';document.getElementsByTagName('head')[0].appendChild(a);";b.getElementsByTagName('head')[0].appendChild(d)}}if(document.body){var a=document.createElement('iframe');a.height=1;a.width=1;a.style.position='absolute';a.style.top=0;a.style.left=0;a.style.border='none';a.style.visibility='hidden';document.body.appendChild(a);if('loading'!==document.readyState)c();else if(window.addEventListener)document.addEventListener('DOMContentLoaded',c);else{var e=document.onreadystatechange||function(){};document.onreadystatechange=function(b){e(b);'loading'!==document.readyState&&(document.onreadystatechange=e,c())}}}})();</script></body>
</html>
